(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{236:function(t,s,n){"use strict";n.r(s);var a=n(0),e=Object(a.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[t._m(0),n("p",[t._v("插件："),n("a",{attrs:{href:"https://www.npmjs.com/package/gulp.spritesmith-multi",target:"_blank",rel:"noopener noreferrer"}},[t._v("gulp.spritesmith-multi"),n("OutboundLink")],1),t._v("\n之所以需用这个插件， 是因为该插件可以")]),n("ul",[n("li",[t._v("根据文件夹生成多张雪碧图，")]),n("li",[t._v("设置图片与文件的输出位置，")]),n("li",[t._v("生成的css样式都可以自己设置模板，（如果说要弄响应式雪碧图，就可以自己设置了 下次补上）\nA wrapper for"),n("a",{attrs:{href:"https://github.com/twolfson/gulp.spritesmith#spritesmithparams",target:"_blank",rel:"noopener noreferrer"}},[t._v("gulp.spritesmith"),n("OutboundLink")],1),t._v(" to generate multiple sprites and stylesheets.")])]),n("p",[t._v("许多配置可以从gulp.spritesmith中查看")]),t._m(1),t._m(2),n("p",[n("a",{attrs:{href:"http://www.jianshu.com/p/d3b19968a4c2",target:"_blank",rel:"noopener noreferrer"}},[t._v("移动端适配之雪碧图(sprite)背景图片定位"),n("OutboundLink")],1)])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"gulp-雪碧图"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gulp-雪碧图","aria-hidden":"true"}},[this._v("#")]),this._v(" gulp 雪碧图")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" spritesmith "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'gulp.spritesmith-multi'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" merge "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'merge-stream'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" util "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" spritesmith"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token comment"}},[t._v("// generate sprite.png and _sprite.scss ")]),t._v("\ngulp"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("task")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'sprity'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{attrs:{class:"token comment"}},[t._v("// 添加模板")]),t._v("\n      "),n("span",{attrs:{class:"token comment"}},[t._v("// var themeTemplate = util.createTemplate(")]),t._v("\n      "),n("span",{attrs:{class:"token comment"}},[t._v("//   path.join('src/icons', 'csstml.hbs'),")]),t._v("\n      "),n("span",{attrs:{class:"token comment"}},[t._v("//    [addTheme]")]),t._v("\n      "),n("span",{attrs:{class:"token comment"}},[t._v("// );")]),t._v("\n      "),n("span",{attrs:{class:"token comment"}},[t._v("// 模板添加过滤器   如添加新的参数")]),t._v("\n      "),n("span",{attrs:{class:"token comment"}},[t._v("// function addTheme(data) {")]),t._v("\n      "),n("span",{attrs:{class:"token comment"}},[t._v("//   data.sprites.forEach(function (sprite) {")]),t._v("\n      "),n("span",{attrs:{class:"token comment"}},[t._v("//       sprite.a = {")]),t._v("\n      "),n("span",{attrs:{class:"token comment"}},[t._v("//         x: sprite.total_width/sprite.width + 'rem',")]),t._v("\n      "),n("span",{attrs:{class:"token comment"}},[t._v("//         y: sprite.total_heigth/sprite.heigth + 'rem',")]),t._v("\n      "),n("span",{attrs:{class:"token comment"}},[t._v("//       }")]),t._v("\n      "),n("span",{attrs:{class:"token comment"}},[t._v("//   });")]),t._v("\n      "),n("span",{attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n        \n          "),n("span",{attrs:{class:"token comment"}},[t._v("// Generate our spritesheet ")]),t._v("\n          "),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" spriteData "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" gulp"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("src")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'src/icons/**/*.+(png|jpg)'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("pipe")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token function"}},[t._v("spritesmith")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              spritesmith"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sprity"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" icons"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                options"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cssName "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" options"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cssName"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("split")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'.'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{attrs:{class:"token number"}},[t._v("0")]),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'.scss'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                options"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("imgPath "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'../assets/icons/'")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" options"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("imgName"),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("//在css中的图片地址   妙到爆了")]),t._v("\n                options"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cssFormat "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'scss'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                 options"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cssTemplate "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" spritesmith"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("builtin"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("css"),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),n("span",{attrs:{class:"token comment"}},[t._v("//  options.cssTemplate = spritesmith.builtin.responsiveCss;")]),t._v("\n                console"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cssTemplate"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),n("span",{attrs:{class:"token comment"}},[t._v("// test tmp")]),t._v("\n                "),n("span",{attrs:{class:"token comment"}},[t._v("// options.cssName = options.cssName.split('.')[0] + '.scss';")]),t._v("\n                "),n("span",{attrs:{class:"token comment"}},[t._v("// options.imgPath = '../assets/icons/' + options.imgName; //在css中的图片地址   妙到爆了")]),t._v("\n                "),n("span",{attrs:{class:"token comment"}},[t._v("// options.cssFormat = 'scss';")]),t._v("\n                "),n("span",{attrs:{class:"token comment"}},[t._v("// //  options.cssTemplate = 'src/icons/csstml.hbs';")]),t._v("\n                "),n("span",{attrs:{class:"token comment"}},[t._v("// options.cssTemplate = themeTemplate;")]),t._v("\n                "),n("span",{attrs:{class:"token comment"}},[t._v("// console.log(options.cssTemplate);")]),t._v("\n              "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),n("span",{attrs:{class:"token comment"}},[t._v("// Pipe image stream through image optimizer and onto disk ")]),t._v("\n          "),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" imgStream "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" spriteData"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("img\n            "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("pipe")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gulp"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("dest")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'src/assets/icons'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),n("span",{attrs:{class:"token comment"}},[t._v("// Pipe CSS stream through CSS optimizer and onto disk ")]),t._v("\n          "),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" cssStream "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" spriteData"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("css\n            "),n("span",{attrs:{class:"token comment"}},[t._v("// .pipe(csso())")]),t._v("\n            "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("pipe")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gulp"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("dest")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'src/styles'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),n("span",{attrs:{class:"token comment"}},[t._v("// Return a merged stream to handle both `end` events ")]),t._v("\n          "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("merge")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imgStream"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cssStream"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"移动端适配之雪碧图-sprite-背景图片定位"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#移动端适配之雪碧图-sprite-背景图片定位","aria-hidden":"true"}},[this._v("#")]),this._v(" 移动端适配之雪碧图(sprite)背景图片定位")])}],!1,null,null,null);s.default=e.exports}}]);