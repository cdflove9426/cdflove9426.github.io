(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{248:function(t,s,e){"use strict";e.r(s);var n=e(0),a=Object(n.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),e("p",[t._v("用root 权限 监听80端口，把80端口进来的流量分配给另外的端口，实现服务代理。\n一般服务器上有多个应用，借助Nginx ,实现端口的代理，负载均衡，来判断是来至哪个域名或者ip的访问。从而根据配置的规则，将请求原封不动转发给特定的端口，或者特定的机器。")]),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),e("p",[t._v("通过ip 地址访问到指定端口\n[配置可以参考网络(https://blog.csdn.net/nipanlong001/article/details/52639386)")]),e("p",[t._v("caicai-com-8081.conf")]),t._m(8),t._m(9),e("p",[t._v("执行nginx")]),t._m(10),t._m(11),e("p",[t._v("又或者\n"),e("a",{attrs:{href:"https://blog.csdn.net/ichuzhen/article/details/8241847",target:"_blank",rel:"noopener noreferrer"}},[t._v("sudo 出现unable to resolve host 解决方法"),e("OutboundLink")],1),t._v("\n如果ubuntu修改文件的时候一直提示:\n"),e("code",[t._v("sudo:unable to resolve host abc")]),t._v("\n那么就需要修改"),e("code",[t._v("/etc/hosts")]),t._v("文件:\n如果之前为")]),t._m(12),e("p",[t._v("变更为:")]),t._m(13),t._m(14),t._m(15),e("p",[t._v("默认浏览器访问的时候会在响应头看到这样的数据")]),t._m(16),t._m(17),t._m(18),t._m(19),t._m(20)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nginx","aria-hidden":"true"}},[this._v("#")]),this._v(" Nginx")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("服务器有可能默认使用apache2 根据情况"),s("strong",[this._v("别把后端的环境给毁了")]),this._v("。。。。")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("service")]),t._v(" apache2 stop\nupdate-rc.d -f apache2 remove "),e("span",{attrs:{class:"token comment"}},[t._v("## 删除 apache")]),t._v("\n"),e("span",{attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" remove apache2 "),e("span",{attrs:{class:"token comment"}},[t._v("## 移除apache")]),t._v("\n\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("sudo")]),this._v(" "),s("span",{attrs:{class:"token function"}},[this._v("apt-get")]),this._v(" update "),s("span",{attrs:{class:"token comment"}},[this._v("## 更新包列表")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"安装nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装nginx","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装Nginx")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" nginx\n\nnginx -v  "),e("span",{attrs:{class:"token comment"}},[t._v("## 查看版本")]),t._v("\n\n"),e("span",{attrs:{class:"token function"}},[t._v("cd")]),t._v(" /etc/nginx/  "),e("span",{attrs:{class:"token comment"}},[t._v("# 进入 查看conf.d")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"配置nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置nginx","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置Nginx")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("进入 "),s("code",[this._v("/etc/nginx/conf.d")]),this._v(" 并通过 "),s("code",[this._v("sudo vi xxxxxxx.conf")]),this._v(" 创建文件\n可以这样命名:"),s("code",[this._v("caicai-com-8081.conf")]),this._v("\n方便清楚对应网站、端口")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-conf extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("upstream projectname{\n    server 127.0.0.1:8081;\n}\nserver {\n    listen 80;\n    server_name 111.111.111.1;  # 所有请求这个端口都转入到upstream projectname\n\n    location / {   # /表示根目录，该配置表示Nginx默认打开/www下的index.html \n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forward-For $proxy_add_x_forwarded_for;\n        proxy_set_header Host $host:$server_port;\n        proxy_set_header X-Nginx-Proxy true;\n         \n        proxy_pass http://projectname;\n        proxy_redirect off;\n    }\n}\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"执行nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#执行nginx","aria-hidden":"true"}},[this._v("#")]),this._v(" 执行nginx")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("sudo")]),this._v(" nginx -t \n"),s("span",{attrs:{class:"token function"}},[this._v("sudo")]),this._v(" nginx -s  reload  "),s("span",{attrs:{class:"token comment"}},[this._v("# 重启")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果出现以下问题：\n"),s("code",[this._v("sudo: unable to resolve host i")]),this._v(" 可能是，阿里云 安全组的问题， 没有在安全组中加入80端口")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("127.0.0.1 localhost\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("127.0.0.1 localhost\n127.0.1.1 "),s("span",{attrs:{class:"token function"}},[this._v("hostname")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("hostname")]),this._v(" 为主机名,查看文件:"),s("code",[this._v("/etc/hostname")]),this._v("获得")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"隐藏在浏览器访问的时候nginx-配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#隐藏在浏览器访问的时候nginx-配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 隐藏在浏览器访问的时候nginx 配置")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("Connection: keep-alive\nContent-Type: text/plain\nDate: Thu, 07 Jun 2018 05:05:15 GMT\nServer: nginx/1.4.6 (Ubuntu)       《------\nTransfer-Encoding: chunked\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("通过以下配置 进行隐藏为 "),s("code",[this._v("Server: nginx")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("sudo")]),this._v(" "),s("span",{attrs:{class:"token function"}},[this._v("vi")]),this._v(" nginx.conf\n\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-conf extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("    ##\n    # Basic Settings\n    ##\n\n    # server_tokens off;  #  去掉注释就好了\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("sudo service nginx reload")]),this._v(" 重载就好了。")])}],!1,null,null,null);s.default=a.exports}}]);